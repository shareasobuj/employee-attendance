<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Employee Attendance Pro Max</title>
<style>
body{font-family:Arial,sans-serif;margin:0;background:linear-gradient(135deg,#141e30,#243b55);color:#333}
.container{max-width:1200px;margin:10px auto;background:#fff;padding:15px;border-radius:12px;box-shadow:0 12px 25px rgba(0,0,0,.3)}
h1{text-align:center;color:#243b55}
.top{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:15px}
input,select,button{padding:10px;border-radius:6px;border:1px solid #ccc;font-size:14px}
button{cursor:pointer;font-weight:bold;border:none}
.logout{background:#e91e63;color:#fff}
.add-btn{background:#28a745;color:#fff}
#authBox{max-width:400px;margin:40px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 12px 25px rgba(0,0,0,.3)}
.hidden{display:none}
.linkBtn{background:none;border:none;color:#007bff;cursor:pointer;text-decoration:underline;margin-top:10px}
.calendar{border:1px solid #ddd;border-radius:8px;margin-bottom:20px;overflow:hidden}
.cal-header{background:#243b55;color:#fff;text-align:center;padding:8px;font-weight:bold}
.cal-body{display:grid;grid-template-columns:repeat(7,1fr)}
.cal-day{border:1px solid #ddd;padding:6px;text-align:center;font-size:13px;min-height:40px}
.status-Present{background:#28a745;color:#fff}
.status-Absent{background:#dc3545;color:#fff}
.status-Off{background:#ff9800;color:#fff}
@media print{.top,.logout,.add-btn,.linkBtn{display:none}body{background:#fff;color:#000}.calendar{page-break-inside:avoid}}
</style>
</head>
<body>
<div id="authBox">
<h2 id="authTitle" style="text-align:center">üîê User Login</h2>
<input id="email" placeholder="Email"><br><br>
<input id="password" type="password" placeholder="Password"><br><br>
<button id="authBtn" style="width:100%;background:#243b55;color:#fff" onclick="handleAuth()">Login</button>
<button class="linkBtn" onclick="toggleAuth()" id="toggleText">New user? Sign up</button>
</div>
<div id="app" class="hidden">
<div class="container">
<h1>üë®‚Äçüíº Employee Attendance Pro Max</h1>
<div class="top">
<input id="empName" placeholder="Employee Name">
<button class="add-btn" onclick="addEmployee()">‚ûï Add Employee</button>
<select id="monthFilter" onchange="renderCalendars()" title="Select Month"></select>
<button class="logout" onclick="logout()">üö™ Logout</button>
<button class="add-btn" onclick="printCalendars()">üñ®Ô∏è Print Calendar</button>
</div>
<div id="calendarContainer"></div>
</div>
</div>
<script>
let isSignup=false;
let users=JSON.parse(localStorage.getItem('users'))||[];
function toggleAuth(){isSignup=!isSignup;authTitle.innerText=isSignup?'üìù Sign Up':'üîê Login';authBtn.innerText=isSignup?'Sign Up':'Login';toggleText.innerText=isSignup?'Already user? Login':'New user? Sign up';}
function handleAuth(){const email=document.getElementById('email').value.trim();const pass=document.getElementById('password').value.trim();if(!email||!pass)return alert('Email & Password ‡¶¶‡¶ø‡¶®');if(isSignup){if(users.find(u=>u.email===email))return alert('User already exists');users.push({email,password:pass});localStorage.setItem('users',JSON.stringify(users));alert('Signup successful! Login now');toggleAuth();}else{const user=users.find(u=>u.email===email && u.password===pass);if(!user)return alert('Invalid login');localStorage.setItem('loggedUser',email);showApp();}}
function logout(){localStorage.removeItem('loggedUser');location.reload()}
function showApp(){authBox.classList.add('hidden');app.classList.remove('hidden')}
if(localStorage.getItem('loggedUser')) showApp();
let employees=JSON.parse(localStorage.getItem('employees_pro'))||[];
const bdHolidays=["2026-02-21","2026-03-17","2026-03-26","2026-04-14","2026-05-01"];
function save(){localStorage.setItem('employees_pro',JSON.stringify(employees))}
function addEmployee(){let n=empName.value.trim();if(!n)return alert('Employee name ‡¶¶‡¶ø‡¶®');if(employees.find(e=>e.name===n))return alert('Employee already exists');employees.push({name:n,attendance:{}});empName.value='';save();renderCalendars();}
const monthFilter=document.getElementById('monthFilter');
const today=new Date();
for(let m=0;m<12;m++){let monthStr=(today.getFullYear())+'-'+String(m+1).padStart(2,'0');let opt=document.createElement('option');opt.value=monthStr;opt.text=(new Date(today.getFullYear(),m)).toLocaleString('default',{month:'long',year:'numeric'});monthFilter.appendChild(opt);}
monthFilter.value=(today.getFullYear())+'-'+String(today.getMonth()+1).padStart(2,'0');
function renderCalendars(){const monthVal=monthFilter.value;if(!monthVal) return;calendarContainer.innerHTML='';employees.forEach(emp=>{const calDiv=document.createElement('div');calDiv.className='calendar';const calHeader=document.createElement('div');calHeader.className='cal-header';calHeader.innerText=emp.name+' - '+new Date(monthVal+'-01').toLocaleString('default',{month:'long',year:'numeric'});calDiv.appendChild(calHeader);const calBody=document.createElement('div');calBody.className='cal-body';const year=parseInt(monthVal.split('-')[0]);const month=parseInt(monthVal.split('-')[1])-1;const firstDay=new Date(year,month,1).getDay();const daysInMonth=new Date(year,month+1,0).getDate();for(let i=0;i<firstDay;i++){const empty=document.createElement('div');empty.className='cal-day';calBody.appendChild(empty);}for(let d=1;d<=daysInMonth;d++){const dateStr=year+'-'+String(month+1).padStart(2,'0')+'-'+String(d).padStart(2,'0');let dayStatus='Absent';const dayOfWeek=new Date(dateStr).getDay();if(dayOfWeek===5||dayOfWeek===6||bdHolidays.includes(dateStr)) dayStatus='Off';if(emp.attendance[dateStr]) dayStatus=emp.attendance[dateStr];const dayDiv=document.createElement('div');dayDiv.className='cal-day status-'+dayStatus;dayDiv.innerText=d+'\n'+dayStatus;calBody.appendChild(dayDiv);}calDiv.appendChild(calBody);calendarContainer.appendChild(calDiv);});}
function printCalendars(){window.print();}
renderCalendars();
</script>
</body>
</html>
